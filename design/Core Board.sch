EESchema Schematic File Version 2  date 02/01/2012 14:25:41
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:mainboard-cache
EELAYER 25  0
EELAYER END
$Descr A3 16535 11700
Sheet 3 12
Title "core"
Date "2 jan 2012"
Rev "0.01"
Comp "diyefi.org"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L +5V_SWITCHED #PWR018
U 1 1 4EFBB324
P 12250 3950
F 0 "#PWR018" H 12250 3900 20  0001 C CNN
F 1 "+5V_SWITCHED" H 12250 4050 30  0000 C CNN
	1    12250 3950
	1    0    0    -1  
$EndComp
NoConn ~ 10650 4550
Connection ~ 8500 2850
$Comp
L +5V_MICRO #PWR019
U 1 1 4EFB34CE
P 6200 5200
F 0 "#PWR019" H 6200 5150 20  0001 C CNN
F 1 "+5V_MICRO" H 6200 5300 30  0000 C CNN
	1    6200 5200
	1    0    0    -1  
$EndComp
$Comp
L +5V_MICRO #PWR020
U 1 1 4EFB34CB
P 7550 5350
F 0 "#PWR020" H 7550 5300 20  0001 C CNN
F 1 "+5V_MICRO" H 7550 5450 30  0000 C CNN
	1    7550 5350
	1    0    0    -1  
$EndComp
$Comp
L +5V_MICRO #PWR021
U 1 1 4EFB34C6
P 8500 2850
F 0 "#PWR021" H 8500 2800 20  0001 C CNN
F 1 "+5V_MICRO" H 8500 2950 30  0000 C CNN
	1    8500 2850
	1    0    0    -1  
$EndComp
Text Notes 8900 9900 2    60   ~ 0
BootLoader enable
Wire Wire Line
	8250 9400 8250 9600
Wire Wire Line
	8600 8450 8250 8450
Wire Wire Line
	8250 8450 8250 8600
Wire Wire Line
	7550 5350 7650 5350
Connection ~ 4450 7750
Wire Wire Line
	4450 7850 4450 7400
Wire Wire Line
	4450 7400 4500 7400
Wire Wire Line
	4950 7750 4450 7750
Connection ~ 5400 4350
Wire Wire Line
	5400 4150 5400 4350
Wire Wire Line
	4650 6000 4350 6000
Wire Wire Line
	4350 6000 4350 5800
Connection ~ 5800 5200
Wire Wire Line
	5450 6100 6200 6100
Wire Wire Line
	6200 6100 6200 5200
Wire Wire Line
	6200 5200 4350 5200
Wire Wire Line
	5800 5300 5800 5200
Connection ~ 7950 2850
Wire Wire Line
	7950 2850 7950 3250
Connection ~ 11650 2850
Connection ~ 5400 3350
Wire Wire Line
	4650 3450 4650 3350
Wire Wire Line
	4650 3350 5950 3350
Wire Wire Line
	8600 3550 7900 3550
Wire Wire Line
	7900 3550 7900 3700
Wire Wire Line
	7900 3700 7400 3700
Wire Wire Line
	7950 3250 8600 3250
Wire Wire Line
	8600 3350 7750 3350
Wire Notes Line
	3950 5050 6300 5050
Wire Notes Line
	3950 5050 3950 6300
Wire Notes Line
	3950 6300 6300 6300
Wire Notes Line
	6300 6300 6300 5050
Wire Wire Line
	7650 4750 7550 4750
Wire Wire Line
	7550 4750 7550 5000
Wire Wire Line
	8150 4950 8600 4950
Wire Wire Line
	8150 5350 8250 5350
Wire Wire Line
	8250 5350 8250 5050
Wire Wire Line
	8250 5050 8600 5050
Wire Wire Line
	5550 5950 5550 5900
Wire Wire Line
	5550 5900 5450 5900
Wire Wire Line
	5450 6000 5800 6000
Wire Wire Line
	5800 6000 5800 5800
Connection ~ 11450 3850
Wire Wire Line
	10650 3850 11450 3850
Wire Wire Line
	10650 3750 11350 3750
Wire Wire Line
	11350 3750 11350 4350
Wire Wire Line
	11350 4350 12250 4350
Wire Wire Line
	10650 3550 11600 3550
Wire Wire Line
	11600 3550 11600 3850
Wire Wire Line
	11600 3850 11950 3850
Wire Wire Line
	10650 3350 11650 3350
Wire Wire Line
	11650 3350 11650 3250
Wire Wire Line
	8600 3150 8500 3150
Wire Wire Line
	8600 4250 6100 4250
Wire Wire Line
	8600 4050 6000 4050
Wire Wire Line
	8600 3850 5950 3850
Connection ~ 3250 3850
Wire Wire Line
	6000 4050 6000 4400
Wire Wire Line
	6000 4400 4300 4400
Wire Wire Line
	4300 4400 4300 3850
Wire Wire Line
	4300 3850 3200 3850
Connection ~ 3950 4250
Wire Wire Line
	6100 4250 6100 4500
Wire Wire Line
	6100 4500 4200 4500
Wire Wire Line
	4200 4500 4200 4250
Wire Wire Line
	4200 4250 3800 4250
Wire Wire Line
	3950 4300 3950 4250
Wire Wire Line
	2700 3850 2650 3850
Connection ~ 5000 4350
Wire Wire Line
	5000 4350 5000 4150
Wire Wire Line
	4650 3850 4650 3950
Wire Wire Line
	4650 3900 4400 3900
Connection ~ 4650 3900
Wire Wire Line
	4400 3900 4400 4000
Wire Wire Line
	2650 4250 3400 4250
Connection ~ 3250 4250
Wire Wire Line
	5950 4350 5950 3950
Wire Wire Line
	5950 4350 4650 4350
Wire Wire Line
	3350 4250 3350 4100
Connection ~ 3350 4250
Wire Wire Line
	3350 4100 4250 4100
Wire Wire Line
	4250 4100 4250 4450
Wire Wire Line
	4250 4450 6050 4450
Wire Wire Line
	6050 4450 6050 4150
Wire Notes Line
	6150 4600 6150 3300
Wire Notes Line
	6150 4600 2450 4600
Wire Notes Line
	2450 4600 2450 3300
Wire Notes Line
	2450 3300 6150 3300
Wire Wire Line
	5950 3950 8600 3950
Wire Wire Line
	6050 4150 8600 4150
Wire Wire Line
	10650 3650 11450 3650
Wire Wire Line
	11450 3650 11450 3950
Wire Wire Line
	11450 3950 12250 3950
Wire Wire Line
	10650 3950 11350 3950
Connection ~ 11350 3950
Wire Wire Line
	8600 4850 8250 4850
Wire Wire Line
	8250 4850 8250 4750
Wire Wire Line
	8250 4750 8150 4750
Wire Wire Line
	7650 4950 7550 4950
Connection ~ 7550 4950
Wire Wire Line
	7750 3400 7750 3300
Connection ~ 7750 3350
Wire Wire Line
	7400 3700 7400 3750
Wire Wire Line
	8600 3450 7850 3450
Wire Wire Line
	7850 3450 7850 3550
Wire Wire Line
	7850 3550 7600 3550
Wire Wire Line
	7600 3550 7600 3300
Wire Wire Line
	7600 3300 7400 3300
Wire Wire Line
	5950 3850 5950 3350
Wire Wire Line
	5000 3350 5000 3650
Connection ~ 5000 3350
Connection ~ 11950 3450
Wire Wire Line
	7750 2900 7750 2850
Wire Wire Line
	7400 3300 7400 2850
Connection ~ 7750 2850
Wire Wire Line
	4350 5200 4350 5300
Wire Wire Line
	5400 3550 5400 3350
Wire Wire Line
	5800 7400 5900 7400
Wire Wire Line
	5900 7400 5900 7750
Wire Wire Line
	5900 7750 5350 7750
Wire Wire Line
	5100 7400 5300 7400
Wire Notes Line
	4000 8250 4000 6900
Wire Notes Line
	4000 8250 6300 8250
Wire Notes Line
	6300 8250 6300 6900
Wire Notes Line
	6300 6900 4000 6900
Wire Wire Line
	11950 3450 10650 3450
Wire Wire Line
	7400 2850 8500 2850
Wire Wire Line
	10650 3250 11250 3250
Wire Wire Line
	11250 3250 11250 2850
Wire Wire Line
	11250 2850 11650 2850
Wire Wire Line
	8500 2850 8500 3150
Wire Wire Line
	8250 9100 8250 9200
$Comp
L CONN_2 P2
U 1 1 4EFA4A93
P 8600 9300
F 0 "P2" V 8550 9300 40  0000 C CNN
F 1 "jumper" V 8650 9300 40  0000 C CNN
	1    8600 9300
	1    0    0    -1  
$EndComp
Text HLabel 10650 6050 2    60   Input ~ 0
PT4
$Comp
L GND #PWR022
U 1 1 4EF8A1A8
P 8250 9600
F 0 "#PWR022" H 8250 9600 30  0001 C CNN
F 1 "GND" H 8250 9530 30  0001 C CNN
	1    8250 9600
	1    0    0    -1  
$EndComp
$Comp
L R R19
U 1 1 4EF8A148
P 8250 8850
F 0 "R19" V 8330 8850 50  0000 C CNN
F 1 "1K" V 8250 8850 50  0000 C CNN
	1    8250 8850
	-1   0    0    1   
$EndComp
NoConn ~ 10650 7250
NoConn ~ 10650 7350
NoConn ~ 10650 7450
NoConn ~ 10650 7650
NoConn ~ 10650 4750
NoConn ~ 10650 6350
NoConn ~ 10650 6250
NoConn ~ 10650 6150
NoConn ~ 10650 5750
NoConn ~ 8600 7750
NoConn ~ 8600 7650
NoConn ~ 8600 7550
NoConn ~ 8600 7450
NoConn ~ 8600 7350
NoConn ~ 8600 7250
NoConn ~ 8600 7150
Text HLabel 8600 8550 0    60   Input ~ 0
PA7
Text Notes 4700 8500 0    60   ~ 0
manual reset switch
Text Label 5900 7400 0    60   ~ 0
RESET
$Comp
L GND #PWR023
U 1 1 4EF89428
P 4450 7850
F 0 "#PWR023" H 4450 7850 30  0001 C CNN
F 1 "GND" H 4450 7780 30  0001 C CNN
	1    4450 7850
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW1
U 1 1 4EF89427
P 4800 7400
F 0 "SW1" H 4950 7510 50  0000 C CNN
F 1 "SW_PUSH" H 4800 7320 50  0000 C CNN
	1    4800 7400
	1    0    0    -1  
$EndComp
$Comp
L C C24
U 1 1 4EF89426
P 5150 7750
F 0 "C24" H 5200 7850 50  0000 L CNN
F 1 "104" H 5200 7650 50  0000 L CNN
	1    5150 7750
	0    1    1    0   
$EndComp
$Comp
L R R18
U 1 1 4EF89425
P 5550 7400
F 0 "R18" V 5630 7400 50  0000 C CNN
F 1 "100R" V 5550 7400 50  0000 C CNN
	1    5550 7400
	0    1    1    0   
$EndComp
$Comp
L CRYSTAL X1
U 1 1 4EF89424
P 5400 3850
F 0 "X1" H 5400 4000 60  0000 C CNN
F 1 "CRYSTAL" H 5400 3700 60  0000 C CNN
	1    5400 3850
	0    1    1    0   
$EndComp
Text Notes 4150 6550 0    60   ~ 0
small pin change to prevent reverse polarity
NoConn ~ 4650 5900
NoConn ~ 10650 7150
Text Notes 9200 2150 0    60   ~ 0
Van and Vdd must meet each other at the 5v regulator, so digital currents dont mess with the ADC stability.\nAlso, keep an analog ground plane beneath this Van track.
Text Notes 4700 5400 0    60   ~ 0
BDM connector
NoConn ~ 4650 6100
$Comp
L GND #PWR024
U 1 1 4EF89423
P 5550 5950
F 0 "#PWR024" H 5550 5950 30  0001 C CNN
F 1 "GND" H 5550 5880 30  0001 C CNN
	1    5550 5950
	1    0    0    -1  
$EndComp
Text Label 8600 3750 2    60   ~ 0
RESET
Text Label 5800 5900 0    60   ~ 0
RESET
Text Label 4350 5900 2    60   ~ 0
BKGD
Text Label 8600 3650 2    60   ~ 0
BKGD
$Comp
L CONN_3X2 P1
U 1 1 4EF89422
P 5050 6050
F 0 "P1" H 5050 6300 50  0000 C CNN
F 1 "BDM" V 5050 6100 40  0000 C CNN
	1    5050 6050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR025
U 1 1 4EF89421
P 11650 3350
F 0 "#PWR025" H 11650 3350 30  0001 C CNN
F 1 "GND" H 11650 3280 30  0001 C CNN
	1    11650 3350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR026
U 1 1 4EF89420
P 11950 3850
F 0 "#PWR026" H 11950 3850 30  0001 C CNN
F 1 "GND" H 11950 3780 30  0001 C CNN
	1    11950 3850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR027
U 1 1 4EF8941F
P 12250 4350
F 0 "#PWR027" H 12250 4350 30  0001 C CNN
F 1 "GND" H 12250 4280 30  0001 C CNN
	1    12250 4350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR028
U 1 1 4EF8941E
P 7750 3400
F 0 "#PWR028" H 7750 3400 30  0001 C CNN
F 1 "GND" H 7750 3330 30  0001 C CNN
	1    7750 3400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR029
U 1 1 4EF8941D
P 7400 3750
F 0 "#PWR029" H 7400 3750 30  0001 C CNN
F 1 "GND" H 7400 3680 30  0001 C CNN
	1    7400 3750
	1    0    0    -1  
$EndComp
$Comp
L C C22
U 1 1 4EF8941C
P 12250 4150
F 0 "C22" H 12300 4250 50  0000 L CNN
F 1 ".1uF" H 12300 4050 50  0000 L CNN
	1    12250 4150
	-1   0    0    1   
$EndComp
$Comp
L R R16
U 1 1 4EF8941B
P 4350 5550
F 0 "R16" V 4430 5550 50  0000 C CNN
F 1 "4.7K" V 4350 5550 50  0000 C CNN
	1    4350 5550
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR030
U 1 1 4EF8941A
P 10650 3150
F 0 "#PWR030" H 10650 3150 30  0001 C CNN
F 1 "GND" H 10650 3080 30  0001 C CNN
	1    10650 3150
	1    0    0    -1  
$EndComp
$Comp
L C C18
U 1 1 4EF89419
P 11950 3650
F 0 "C18" H 12000 3750 50  0000 L CNN
F 1 ".1uF" H 12000 3550 50  0000 L CNN
	1    11950 3650
	-1   0    0    1   
$EndComp
$Comp
L C C14
U 1 1 4EF89418
P 11650 3050
F 0 "C14" H 11700 3150 50  0000 L CNN
F 1 ".1uF" H 11700 2950 50  0000 L CNN
	1    11650 3050
	-1   0    0    1   
$EndComp
$Comp
L C C16
U 1 1 4EF89417
P 7400 3500
F 0 "C16" H 7450 3600 50  0000 L CNN
F 1 ".1uF" H 7450 3400 50  0000 L CNN
	1    7400 3500
	-1   0    0    1   
$EndComp
$Comp
L C C15
U 1 1 4EF89416
P 7750 3100
F 0 "C15" H 7800 3200 50  0000 L CNN
F 1 ".1uF" H 7800 3000 50  0000 L CNN
	1    7750 3100
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR031
U 1 1 4EF89415
P 7550 5000
F 0 "#PWR031" H 7550 5000 30  0001 C CNN
F 1 "GND" H 7550 4930 30  0001 C CNN
	1    7550 5000
	1    0    0    -1  
$EndComp
$Comp
L R R15
U 1 1 4EF89414
P 7900 5350
F 0 "R15" V 7980 5350 50  0000 C CNN
F 1 "10k" V 7900 5350 50  0000 C CNN
	1    7900 5350
	0    1    1    0   
$EndComp
$Comp
L R R14
U 1 1 4EF89413
P 7900 4950
F 0 "R14" V 7980 4950 50  0000 C CNN
F 1 "10k" V 7900 4950 50  0000 C CNN
	1    7900 4950
	0    1    1    0   
$EndComp
$Comp
L R R13
U 1 1 4EF89412
P 7900 4750
F 0 "R13" V 7980 4750 50  0000 C CNN
F 1 "10k" V 7900 4750 50  0000 C CNN
	1    7900 4750
	0    1    1    0   
$EndComp
$Comp
L R R17
U 1 1 4EF89411
P 5800 5550
F 0 "R17" V 5880 5550 50  0000 C CNN
F 1 "10k" V 5800 5550 50  0000 C CNN
	1    5800 5550
	-1   0    0    1   
$EndComp
Text Notes 2850 3550 0    60   ~ 0
PLL + CLK
$Comp
L GND #PWR032
U 1 1 4EF89410
P 3950 4300
F 0 "#PWR032" H 3950 4300 30  0001 C CNN
F 1 "GND" H 3950 4230 30  0001 C CNN
	1    3950 4300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR033
U 1 1 4EF8940F
P 4400 4000
F 0 "#PWR033" H 4400 4000 30  0001 C CNN
F 1 "GND" H 4400 3930 30  0001 C CNN
	1    4400 4000
	1    0    0    -1  
$EndComp
$Comp
L R R11
U 1 1 4EF8940E
P 2950 3850
F 0 "R11" V 3030 3850 50  0000 C CNN
F 1 "3.9K" V 2950 3850 50  0000 C CNN
	1    2950 3850
	0    1    1    0   
$EndComp
$Comp
L R R12
U 1 1 4EF8940D
P 5000 3900
F 0 "R12" V 5080 3900 50  0000 C CNN
F 1 "10M" V 5000 3900 50  0000 C CNN
	1    5000 3900
	1    0    0    -1  
$EndComp
$Comp
L C C20
U 1 1 4EF8940C
P 3250 4050
F 0 "C20" H 3300 4150 50  0000 L CNN
F 1 "330pF" H 3300 3950 50  0000 L CNN
	1    3250 4050
	1    0    0    -1  
$EndComp
$Comp
L C C23
U 1 1 4EF8940B
P 3600 4250
F 0 "C23" H 3650 4350 50  0000 L CNN
F 1 "100nF" H 3650 4150 50  0000 L CNN
	1    3600 4250
	0    1    1    0   
$EndComp
$Comp
L C C19
U 1 1 4EF8940A
P 2650 4050
F 0 "C19" H 2700 4150 50  0000 L CNN
F 1 "3.3nF" H 2700 3950 50  0000 L CNN
	1    2650 4050
	1    0    0    -1  
$EndComp
$Comp
L C C21
U 1 1 4EF89409
P 4650 4150
F 0 "C21" H 4700 4250 50  0000 L CNN
F 1 "22pF" H 4700 4050 50  0000 L CNN
	1    4650 4150
	1    0    0    -1  
$EndComp
$Comp
L C C17
U 1 1 4EF89408
P 4650 3650
F 0 "C17" H 4700 3750 50  0000 L CNN
F 1 "22pF" H 4700 3550 50  0000 L CNN
	1    4650 3650
	1    0    0    -1  
$EndComp
NoConn ~ 10650 4850
NoConn ~ 10650 4950
NoConn ~ 10650 5050
NoConn ~ 10650 5150
NoConn ~ 10650 5250
NoConn ~ 10650 5350
NoConn ~ 10650 5450
NoConn ~ 10650 5550
NoConn ~ 10650 6650
NoConn ~ 10650 6750
NoConn ~ 10650 8050
NoConn ~ 10650 8150
NoConn ~ 10650 8250
NoConn ~ 10650 8350
NoConn ~ 10650 8450
NoConn ~ 10650 8550
NoConn ~ 8600 6950
NoConn ~ 8600 6850
NoConn ~ 8600 6750
NoConn ~ 8600 6650
NoConn ~ 8600 6550
NoConn ~ 8600 6450
NoConn ~ 8600 6350
NoConn ~ 8600 6250
NoConn ~ 8600 6150
NoConn ~ 8600 6050
NoConn ~ 8600 5950
NoConn ~ 8600 5850
NoConn ~ 8600 5750
NoConn ~ 8600 5650
NoConn ~ 8600 5550
NoConn ~ 8600 5450
NoConn ~ 8600 5350
NoConn ~ 8600 5250
NoConn ~ 8600 5150
NoConn ~ 8600 4750
NoConn ~ 8600 4650
NoConn ~ 8600 4550
NoConn ~ 8600 4450
NoConn ~ 8600 4350
NoConn ~ 10650 8750
NoConn ~ 10650 8650
NoConn ~ 10650 6950
NoConn ~ 10650 6850
NoConn ~ 10650 7050
$Comp
L PWR_FLAG #FLG034
U 1 1 4EF89403
P 7400 2850
F 0 "#FLG034" H 7400 3120 30  0001 C CNN
F 1 "PWR_FLAG" H 7400 3080 30  0000 C CNN
	1    7400 2850
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG035
U 1 1 4EF89402
P 7900 3700
F 0 "#FLG035" H 7900 3970 30  0001 C CNN
F 1 "PWR_FLAG" H 7900 3930 30  0000 C CNN
	1    7900 3700
	0    1    1    0   
$EndComp
$Comp
L MC9S12XDP512 U2
U 1 1 4EF89400
P 9650 6000
F 0 "U2" H 9650 3100 60  0000 C CNN
F 1 "MC9S12XDP512" H 9650 6000 60  0000 C CNN
F 4 "MC9S12XDP512MAL-ND" H 9650 6000 60  0001 C CNN "Field1"
	1    9650 6000
	1    0    0    -1  
$EndComp
Text HLabel 8600 8350 0    60   Input ~ 0
PA5
Text HLabel 10650 6450 2    60   Input ~ 0
RXD
Text HLabel 10650 6550 2    60   Input ~ 0
TXD
Text HLabel 10650 7950 2    60   Input ~ 0
PP7
Text HLabel 10650 7850 2    60   Input ~ 0
PP6
Text HLabel 10650 7750 2    60   Input ~ 0
PP5
Text HLabel 10650 7550 2    60   Input ~ 0
PP3
Text HLabel 10650 5650 2    60   Input ~ 0
PT0
Text HLabel 8600 8250 0    60   Input ~ 0
PA4
Text HLabel 8600 8150 0    60   Input ~ 0
PA3
Text HLabel 8600 8050 0    60   Input ~ 0
PA2
Text HLabel 8600 7950 0    60   Input ~ 0
PA1
Text HLabel 8600 7850 0    60   Input ~ 0
PA0
Text HLabel 10650 4650 2    60   Input ~ 0
AN06
Text HLabel 10650 4450 2    60   Input ~ 0
AN04
Text HLabel 10650 4350 2    60   Input ~ 0
AN03
Text HLabel 10650 4250 2    60   Input ~ 0
AN02
Text HLabel 10650 4150 2    60   Input ~ 0
AN01
Text HLabel 10650 4050 2    60   Input ~ 0
AN00
Text HLabel 8600 7050 0    60   Input ~ 0
PB0
Text HLabel 10650 5950 2    60   Input ~ 0
PT3
Text HLabel 10650 5850 2    60   Input ~ 0
PT2
$EndSCHEMATC
